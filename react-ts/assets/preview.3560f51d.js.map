{"version":3,"mappings":"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","names":["document","global","channel"],"sources":["../../../node_modules/@storybook/addon-a11y/dist/esm/constants.js","../../../node_modules/@storybook/addon-a11y/dist/esm/a11yRunner.js","../../../node_modules/@storybook/addon-a11y/dist/esm/highlight.js","../../../node_modules/@storybook/addon-a11y/dist/esm/a11yHighlight.js"],"sourcesContent":["export var ADDON_ID = 'storybook/a11y';\nexport var PANEL_ID = \"\".concat(ADDON_ID, \"/panel\");\nexport var PARAM_KEY = \"a11y\";\nexport var HIGHLIGHT_STYLE_ID = 'a11yHighlight';\nvar RESULT = \"\".concat(ADDON_ID, \"/result\");\nvar REQUEST = \"\".concat(ADDON_ID, \"/request\");\nvar RUNNING = \"\".concat(ADDON_ID, \"/running\");\nvar ERROR = \"\".concat(ADDON_ID, \"/error\");\nvar MANUAL = \"\".concat(ADDON_ID, \"/manual\");\nvar HIGHLIGHT = \"\".concat(ADDON_ID, \"/highlight\");\nexport var EVENTS = {\n  RESULT: RESULT,\n  REQUEST: REQUEST,\n  RUNNING: RUNNING,\n  ERROR: ERROR,\n  MANUAL: MANUAL,\n  HIGHLIGHT: HIGHLIGHT\n};","import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"regenerator-runtime/runtime.js\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport global from 'global';\nimport { addons } from '@storybook/addons';\nimport { EVENTS } from './constants';\nvar document = global.document,\n    globalWindow = global.window;\n\nif (module && module.hot && module.hot.decline) {\n  module.hot.decline();\n}\n\nvar channel = addons.getChannel(); // Holds axe core running state\n\nvar active = false; // Holds latest story we requested a run\n\nvar activeStoryId;\n/**\n * Handle A11yContext events.\n * Because the event are sent without manual check, we split calls\n */\n\nvar handleRequest = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(storyId) {\n    var _yield$getParams, manual;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return getParams(storyId);\n\n          case 2:\n            _yield$getParams = _context.sent;\n            manual = _yield$getParams.manual;\n\n            if (manual) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return run(storyId);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function handleRequest(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar run = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(storyId) {\n    var input, axe, _input$element, element, config, _input$options, options, htmlElement, result;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            activeStoryId = storyId;\n            _context2.prev = 1;\n            _context2.next = 4;\n            return getParams(storyId);\n\n          case 4:\n            input = _context2.sent;\n\n            if (active) {\n              _context2.next = 19;\n              break;\n            }\n\n            active = true;\n            channel.emit(EVENTS.RUNNING);\n            _context2.next = 10;\n            return import('axe-core');\n\n          case 10:\n            axe = _context2.sent.default;\n            _input$element = input.element, element = _input$element === void 0 ? '#root' : _input$element, config = input.config, _input$options = input.options, options = _input$options === void 0 ? {} : _input$options;\n            htmlElement = document.querySelector(element);\n            axe.reset();\n\n            if (config) {\n              axe.configure(config);\n            }\n\n            _context2.next = 17;\n            return axe.run(htmlElement, options);\n\n          case 17:\n            result = _context2.sent;\n\n            // It's possible that we requested a new run on a different story.\n            // Unfortunately, axe doesn't support a cancel method to abort current run.\n            // We check if the story we run against is still the current one,\n            // if not, trigger a new run using the current story\n            if (activeStoryId === storyId) {\n              channel.emit(EVENTS.RESULT, result);\n            } else {\n              active = false;\n              run(activeStoryId);\n            }\n\n          case 19:\n            _context2.next = 24;\n            break;\n\n          case 21:\n            _context2.prev = 21;\n            _context2.t0 = _context2[\"catch\"](1);\n            channel.emit(EVENTS.ERROR, _context2.t0);\n\n          case 24:\n            _context2.prev = 24;\n            active = false;\n            return _context2.finish(24);\n\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 21, 24, 27]]);\n  }));\n\n  return function run(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n/** Returns story parameters or default ones. */\n\n\nvar getParams = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(storyId) {\n    var _ref4, parameters;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return globalWindow.__STORYBOOK_STORY_STORE__.loadStory({\n              storyId: storyId\n            });\n\n          case 2:\n            _context3.t0 = _context3.sent;\n\n            if (_context3.t0) {\n              _context3.next = 5;\n              break;\n            }\n\n            _context3.t0 = {};\n\n          case 5:\n            _ref4 = _context3.t0;\n            parameters = _ref4.parameters;\n            return _context3.abrupt(\"return\", parameters.a11y || {\n              config: {},\n              options: {\n                restoreScroll: true\n              }\n            });\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getParams(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nchannel.on(EVENTS.REQUEST, handleRequest);\nchannel.on(EVENTS.MANUAL, run);","export var highlightStyle = function highlightStyle(color) {\n  return \"\\n  outline: 2px dashed \".concat(color, \";\\n  outline-offset: 2px;\\n  box-shadow: 0 0 0 6px rgba(255,255,255,0.6);\\n\");\n};\nexport var highlightObject = function highlightObject(color) {\n  return {\n    outline: \"2px dashed \".concat(color),\n    outlineOffset: 2,\n    boxShadow: '0 0 0 6px rgba(255,255,255,0.6),'\n  };\n};","import \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport global from 'global';\nimport { addons } from '@storybook/addons';\nimport { STORY_CHANGED } from '@storybook/core-events';\nimport { EVENTS, HIGHLIGHT_STYLE_ID } from './constants';\nimport { highlightStyle } from './highlight';\nvar document = global.document;\n\nif (module && module.hot && module.hot.decline) {\n  module.hot.decline();\n}\n\nvar channel = addons.getChannel();\n\nvar highlight = function highlight(infos) {\n  var id = HIGHLIGHT_STYLE_ID;\n  resetHighlight(); // Make sure there are no duplicated selectors\n\n  var elements = Array.from(new Set(infos.elements));\n  var sheet = document.createElement('style');\n  sheet.setAttribute('id', id);\n  sheet.innerHTML = elements.map(function (target) {\n    return \"\".concat(target, \"{\\n          \").concat(highlightStyle(infos.color), \"\\n         }\");\n  }).join(' ');\n  document.head.appendChild(sheet);\n};\n\nvar resetHighlight = function resetHighlight() {\n  var id = HIGHLIGHT_STYLE_ID;\n  var sheetToBeRemoved = document.getElementById(id);\n\n  if (sheetToBeRemoved) {\n    sheetToBeRemoved.parentNode.removeChild(sheetToBeRemoved);\n  }\n};\n\nchannel.on(STORY_CHANGED, resetHighlight);\nchannel.on(EVENTS.HIGHLIGHT, highlight);"],"file":"assets/preview.3560f51d.js"}